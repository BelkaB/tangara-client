//Clavier
comclave = new CommandesClavier();
comclave.ajouterCommande("droite","suiveur.avancer(10)");
comclave.ajouterCommande("gauche","suiveur.reculer(10)");
comclave.ajouterCommande("bas","suiveur.descendre(10)");
comclave.ajouterCommande("haut","suiveur.monter(10)");
comclave.ajouterCommande("d","suiveur.avancer(10)");
comclave.ajouterCommande("q","suiveur.reculer(10)");
comclave.ajouterCommande("z","suiveur.monter(10)");
comclave.ajouterCommande("s","suiveur.descendre(10)");

image = new Image("../images/niveaux/niveau8.png");
image.couleurTransparente("cyan");

unChemin = new Chemin("../images/chemins/chemin8.png");
unChemin.couleurTransparente("blanc");

suiveur = new Suiveur("../images/persos/perso.png");
suiveur.définirChemin(unChemin);
suiveur.définirPosition(264,38);
suiveur.avancer(1);

unChemin.cacher();

//Gameover fond
gameover = new Image("../images/fonds/gameover.png");
gameover.définirTransparence(100);

//Fin fond
fini = new Image("../images/fonds/fini.png");
fini.définirTransparence(100);

//Bouton Quitter
boutonRecommencer = new Bouton();
boutonRecommencer.définirTexte("Quitter");
boutonRecommencer.cacher();
boutonRecommencer.ajouterCommande("quitter()");

//Le méchant
suiveur1 = new Suiveur("../images/persos/ennemi.png");
suiveur1.définirChemin(unChemin);
suiveur1.définirPosition(373,158);
suiveur1.avancer(1);

//Point d'arrivée
arrive = new Suiveur("../images/persos/arrivee.png");
arrive.définirChemin(unChemin);
arrive.définirPosition(390,533);
arrive.avancer(1);

//Gestion collisions
suiveur.siCollisionAvec(suiveur1, "gameover()");
suiveur.siCollisionAvec(arrive, "fini()");

//Compteur pour avancer
minuteurAvancer = new Minuteur();
minuteurAvancer.définirDélai(2000);
minuteurAvancer.répéter(true);

//Compteur pour reculer
minuteurReculer = new Minuteur();
minuteurReculer.définirDélai(2000);
minuteurReculer.définirPremierDélai(1000);
minuteurReculer.répéter(true);


minuteurReculer.démarrer();
minuteurAvancer.démarrer();
minuteurAvancer.ajouterCommande("avancerTout()");
minuteurReculer.ajouterCommande("reculerTout()");

avancerTout(){
	suiveur1.monter(150);
	
}

reculerTout(){
	suiveur1.descendre(150);
}

gameover(){
	comclave.désactiver();
	minuteurAvancer.arrêter();
	minuteurReculer.arrêter();
	suiveur.arrêter();
	suiveur1.cacher();
	suiveur.cacher();
	arrive.cacher();
	gameover.définirTransparence(0);	
	boutonRecommencer.montrer();
}

recommencer(){
	suiveur.définirPosition(264,38);
	suiveur.avancer(1);
	suiveur.montrer();
	
    suiveur1.définirPosition(373,158);
    suiveur1.avancer(1);
    suiveur1.montrer();
    
    arrive.montrer();
    
    comclave.activer();
    minuteurAvancer.démarrer();
	minuteurReculer.démarrer();
	boutonRecommencer.cacher();
	gameover.définirTransparence(100);
}

fini(){
	comclave.désactiver();
	minuteurAvancer.arrêter();
	minuteurReculer.arrêter();
	suiveur.arrêter();
	suiveur1.cacher();
	suiveur.cacher();
	arrive.cacher();
	fini.définirTransparence(0);	
	boutonRecommencer.montrer();
}

quitter(){
	tangara.quitter();
}